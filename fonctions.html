<!DOCTYPE html>

<html lang="fr">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

  <meta name="viewport" content="width=device-width,initial-scale=1">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <meta name="lang:clipboard.copy" content="Copy to clipboard">
  <meta name="lang:clipboard.copied" content="Copied to clipboard">
  <meta name="lang:search.language" content="en">
  <meta name="lang:search.pipeline.stopwords" content="True">
  <meta name="lang:search.pipeline.trimmer" content="True">
  <meta name="lang:search.result.none" content="No matching documents">
  <meta name="lang:search.result.one" content="1 matching document">
  <meta name="lang:search.result.other" content="# matching documents">
  <meta name="lang:search.tokenizer" content="[\s\-]+">

  
    <link href="https://fonts.gstatic.com/" rel="preconnect" crossorigin>
    <link href="https://fonts.googleapis.com/css?family=Roboto+Mono:400,500,700|Roboto:300,400,400i,700&display=fallback" rel="stylesheet">

    <style>
      body,
      input {
        font-family: "Roboto", "Helvetica Neue", Helvetica, Arial, sans-serif
      }

      code,
      kbd,
      pre {
        font-family: "Roboto Mono", "Courier New", Courier, monospace
      }
    </style>
  

  <link rel="stylesheet" href="_static/stylesheets/application.css"/>
  <link rel="stylesheet" href="_static/stylesheets/application-palette.css"/>
  <link rel="stylesheet" href="_static/stylesheets/application-fixes.css"/>
  
  <link rel="stylesheet" href="_static/fonts/material-icons.css"/>
  
  <meta name="theme-color" content="#3f51b5">
  <script src="_static/javascripts/modernizr.js"></script>
  
  
  
    <title>5.4. Fonctions &#8212; Documentation CoursPythonCPGE </title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/material.css" />
    <link rel="stylesheet" type="text/css" href="_static/plot_directive.css" />
    <link rel="stylesheet" type="text/css" href="_static/jupyter-sphinx.css" />
    <link rel="stylesheet" type="text/css" href="_static/thebelab.css" />
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/sphinx_highlight.js"></script>
    <script src="_static/thebelab-helper.js"></script>
    <script src="_static/translations.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@jupyter-widgets/html-manager@^1.0.1/dist/embed-amd.js"></script>
    <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Recherche" href="search.html" />
    <link rel="next" title="6. Un peu de théorie" href="theorie.html" />
    <link rel="prev" title="5.3. Boucles" href="boucles.html" />
  
   

  </head>
  <body dir=ltr
        data-md-color-primary=blue-grey data-md-color-accent=blue>
  
  <svg class="md-svg">
    <defs data-children-count="0">
      
      <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448" viewBox="0 0 416 448" id="__github"><path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg>
      
    </defs>
  </svg>
  
  <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer">
  <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search">
  <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
  <a href="#fonctions" tabindex="1" class="md-skip"> Skip to content </a>
  <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex navheader">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="index.html" title="Documentation CoursPythonCPGE "
           class="md-header-nav__button md-logo">
          
            &nbsp;
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          <span class="md-header-nav__topic">Documentation CoursPythonCPGE </span>
          <span class="md-header-nav__topic"> 5.4. Fonctions </span>
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
        
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" action="search.html" method="get" name="search">
      <input type="text" class="md-search__input" name="q" placeholder="Search"
             autocapitalize="off" autocomplete="off" spellcheck="false"
             data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>

      </div>
      
      
  
  <script src="_static/javascripts/version_dropdown.js"></script>
  <script>
    var json_loc = ""versions.json"",
        target_loc = "../",
        text = "Versions";
    $( document ).ready( add_version_dropdown(json_loc, target_loc, text));
  </script>
  

    </div>
  </nav>
</header>

  
  <div class="md-container">
    
    
    
  <nav class="md-tabs" data-md-component="tabs">
    <div class="md-tabs__inner md-grid">
      <ul class="md-tabs__list">
          <li class="md-tabs__item"><a href="index.html" class="md-tabs__link">Documentation CoursPythonCPGE </a></li>
          <li class="md-tabs__item"><a href="algorithmique.html" class="md-tabs__link"><span class="section-number">5. </span>Rudiments d’algorithmique</a></li>
      </ul>
    </div>
  </nav>
    <main class="md-main">
      <div class="md-main__inner md-grid" data-md-component="container">
        
          <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
            <div class="md-sidebar__scrollwrap">
              <div class="md-sidebar__inner">
                <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="index.html" title="Documentation CoursPythonCPGE" class="md-nav__button md-logo">
      
        <img src="_static/" alt=" logo" width="48" height="48">
      
    </a>
    <a href="index.html"
       title="Documentation CoursPythonCPGE">Documentation CoursPythonCPGE </a>
  </label>
  

  
  <ul class="md-nav__list">
    <li class="md-nav__item">
    
    
      <a href="preliminaires.html" class="md-nav__link">1. Préliminaires</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="types_operateurs_variables.html" class="md-nav__link">2. Types, opérateurs et variables</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="types_composes.html" class="md-nav__link">3. Types composés</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="io.html" class="md-nav__link">4. Entrée/sortie</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="algorithmique.html" class="md-nav__link">5. Rudiments d’algorithmique</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="theorie.html" class="md-nav__link">6. Un peu de théorie</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="recursivite.html" class="md-nav__link">7. Récursivité</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="algoclassiques.html" class="md-nav__link">8. Algorithmes classiques</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="appendice_preuves_complexites.html" class="md-nav__link">Preuves et complexités</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="glossaire.html" class="md-nav__link">Glossaire</a>
      
    
    </li>
  </ul>
  

</nav>
              </div>
            </div>
          </div>
          <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
            <div class="md-sidebar__scrollwrap">
              <div class="md-sidebar__inner">
                
<nav class="md-nav md-nav--secondary">
    <label class="md-nav__title" for="__toc">Contents</label>
  <ul class="md-nav__list" data-md-scrollfix="">
        <li class="md-nav__item"><a href="#fonctions--page-root" class="md-nav__link">5.4. Fonctions</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#definir-une-fonction" class="md-nav__link">5.4.1. Définir une fonction</a>
        </li>
        <li class="md-nav__item"><a href="#l-instruction-return" class="md-nav__link">5.4.2. L’instruction <code class="code docutils literal notranslate"><span class="pre">return</span></code></a>
        </li>
        <li class="md-nav__item"><a href="#parametres-et-arguments" class="md-nav__link">5.4.3. Paramètres et arguments</a>
        </li>
        <li class="md-nav__item"><a href="#portee-des-variables" class="md-nav__link">5.4.4. Portée des variables</a>
        </li>
        <li class="md-nav__item"><a href="#fonctions-et-mutabilite" class="md-nav__link">5.4.5. Fonctions et mutabilité</a>
        </li>
        <li class="md-nav__item"><a href="#une-fonction-est-un-objet" class="md-nav__link">5.4.6. Une fonction est un objet</a>
        </li>
        <li class="md-nav__item"><a href="#documentation-d-une-fonction" class="md-nav__link">5.4.7. Documentation d’une fonction</a>
        </li>
        <li class="md-nav__item"><a href="#effets-de-bord" class="md-nav__link">5.4.8. Effets de bord</a>
        </li>
        <li class="md-nav__item"><a href="#fonctions-anonymes" class="md-nav__link">5.4.9. Fonctions anonymes</a>
        </li></ul>
            </nav>
        </li>
    
<li class="md-nav__item"><a class="md-nav__extra_link" href="_sources/fonctions.rst.txt">Montrer le code source</a> </li>

<li id="searchbox" class="md-nav__item"></li>

  </ul>
</nav>
              </div>
            </div>
          </div>
        
        <div class="md-content">
          <article class="md-content__inner md-typeset" role="main">
            
  <section id="fonctions">
<h1 id="fonctions--page-root"><span class="section-number">5.4. </span>Fonctions<a class="headerlink" href="#fonctions--page-root" title="Lien permanent vers cette rubrique">¶</a></h1>
<p>Une fonction est un bloc d’instructions que l’on peut appeler à tout moment d’un programme. Les fonctions ont plusieurs intérêts, notamment :</p>
<blockquote>
<div><ul class="simple">
<li><p>la réutilisation du code : éviter de répéter les mêmes séries d’instructions à plusieurs endroits d’un programme ;</p></li>
<li><p>la modularité : découper une tâche complexe en plusieurs sous-tâches plus simples.</p></li>
</ul>
</div></blockquote>
<section id="definir-une-fonction">
<h2 id="definir-une-fonction"><span class="section-number">5.4.1. </span>Définir une fonction<a class="headerlink" href="#definir-une-fonction" title="Lien permanent vers cette rubrique">¶</a></h2>
<p>Au cours des chapitres précédents, on a déjà rencontré de nombreuses fonctions telles que <code class="code docutils literal notranslate"><span class="pre">print</span></code> ou <code class="code docutils literal notranslate"><span class="pre">len</span></code>. Chacune de ces fonctions reçoit un argument et effectue une action (la fonction <code class="code docutils literal notranslate"><span class="pre">print</span></code> affiche un objet à l’écran) ou renvoie une valeur (la fonction <code class="code docutils literal notranslate"><span class="pre">len</span></code> renvoie la taille d’un itérable).</p>
<p>Jusqu’à maintenant, on s’est contenté de faire appel à des fonctions prédéfinies. Mais on peut également définir ses propres fonctions : il faut alors <strong>déclarer</strong> ces fonctions avant de les utiliser. De manière générale, la syntaxe d’une déclaration de fonctions est la suivante.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="o">&lt;</span><span class="n">nom_fonction</span><span class="o">&gt;</span><span class="p">(</span><span class="o">&lt;</span><span class="n">paramètres</span><span class="o">&gt;</span><span class="p">):</span>   <span class="c1"># En-tête de la fonction</span>
    <span class="o">&lt;</span><span class="n">instruction1</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">instruction2</span><span class="o">&gt;</span>                  <span class="c1"># Corps de la fonction</span>
    <span class="o">...</span>
    <span class="k">return</span> <span class="o">&lt;</span><span class="n">valeur</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>On décrit dans le <em>corps</em> de la fonction les traitements à effectuer sur les paramètres et on spécifie la valeur que doit renvoyer la fonction.</p>
<p>Considérons l’exemple simple suivant.</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [1]: </span><span class="k">def</span> <span class="nf">factorielle</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
<span class="gp">   ...: </span>    <span class="n">a</span> <span class="o">=</span> <span class="mi">1</span>
<span class="gp">   ...: </span>    <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">n</span><span class="o">+</span><span class="mi">1</span><span class="p">):</span>
<span class="gp">   ...: </span>        <span class="n">a</span> <span class="o">*=</span> <span class="n">k</span>
<span class="gp">   ...: </span>    <span class="k">return</span> <span class="n">a</span>
<span class="gp">   ...: </span>
</pre></div>
</div>
<p>La fonction <code class="code docutils literal notranslate"><span class="pre">factorielle</span></code> prend en argument un objet <code class="code docutils literal notranslate"><span class="pre">n</span></code> (que l’on supposera être un entier naturel), calcule la factorielle de <code class="code docutils literal notranslate"><span class="pre">n</span></code> à l’aide d’une variable <code class="code docutils literal notranslate"><span class="pre">a</span></code> et renvoie cette valeur.</p>
<p>On constate que rien ne se passe lorsque la fonction est déclarée. Il faut <strong>appeler</strong> la fonction en fournissant une valeur à l’entier <code class="code docutils literal notranslate"><span class="pre">n</span></code> pour que le code soit exécuté.</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [2]: </span><span class="n">factorielle</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="gh">Out[2]: </span><span class="go">120</span>

<span class="gp">In [3]: </span><span class="n">factorielle</span><span class="p">(</span><span class="mi">7</span><span class="p">)</span>
<span class="gh">Out[3]: </span><span class="go">5040</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Il faut bien faire la différence entre <strong>la déclaration</strong> et <strong>l’appel</strong> de la fonction. Lorsqu’une fonction est <strong>déclarée</strong>, aucun code n’est exécuté. Il faut <strong>appeler</strong> la fonction pour que le code soit exécuté.</p>
</div>
</section>
<section id="l-instruction-return">
<h2 id="l-instruction-return"><span class="section-number">5.4.2. </span>L’instruction <code class="code docutils literal notranslate"><span class="pre">return</span></code><a class="headerlink" href="#l-instruction-return" title="Lien permanent vers cette rubrique">¶</a></h2>
<p>On « sort » de la fonction dès qu’on recontre une instruction <code class="code docutils literal notranslate"><span class="pre">return</span></code> : en particulier, les instructions suivant un <code class="code docutils literal notranslate"><span class="pre">return</span></code> ne sont pas exécutées.</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [4]: </span><span class="k">def</span> <span class="nf">test</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
<span class="gp">   ...: </span>    <span class="k">if</span> <span class="n">n</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
<span class="gp">   ...: </span>        <span class="k">return</span> <span class="s2">"n est un multiple de 2"</span>
<span class="gp">   ...: </span>    <span class="k">if</span> <span class="n">n</span> <span class="o">%</span> <span class="mi">3</span> <span class="o">==</span><span class="mi">0</span><span class="p">:</span>
<span class="gp">   ...: </span>        <span class="k">return</span> <span class="s2">"n est un multiple de 3"</span>
<span class="gp">   ...: </span>    <span class="k">return</span> <span class="s2">"Bidon"</span>
<span class="gp">   ...: </span>

<span class="gp">In [5]: </span><span class="n">test</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="gh">Out[5]: </span><span class="go">'n est un multiple de 2'</span>

<span class="gp">In [6]: </span><span class="n">test</span><span class="p">(</span><span class="mi">9</span><span class="p">)</span>
<span class="gh">Out[6]: </span><span class="go">'n est un multiple de 3'</span>

<span class="gp">In [7]: </span><span class="n">test</span><span class="p">(</span><span class="mi">6</span><span class="p">)</span>
<span class="gh">Out[7]: </span><span class="go">'n est un multiple de 2'</span>

<span class="gp">In [8]: </span><span class="n">test</span><span class="p">(</span><span class="mi">11</span><span class="p">)</span>
<span class="gh">Out[8]: </span><span class="go">'Bidon'</span>
</pre></div>
</div>
<p>On peut cependant utiliser ceci à notre avantage : par exemple, pour sortir d’une boucle <code class="code docutils literal notranslate"><span class="pre">for</span></code> avant d’avoir accompli toutes les itérations.</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [9]: </span><span class="kn">from</span> <span class="nn">math</span> <span class="kn">import</span> <span class="n">sqrt</span><span class="p">,</span> <span class="n">floor</span>

<span class="gp">In [10]: </span><span class="k">def</span> <span class="nf">est_premier</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
<span class="gp">   ....: </span>    <span class="k">if</span> <span class="n">n</span> <span class="o">&lt;=</span> <span class="mi">1</span><span class="p">:</span>
<span class="gp">   ....: </span>        <span class="k">return</span> <span class="kc">False</span>
<span class="gp">   ....: </span>    <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">floor</span><span class="p">(</span><span class="n">sqrt</span><span class="p">(</span><span class="n">n</span><span class="p">))</span> <span class="o">+</span> <span class="mi">1</span><span class="p">):</span>
<span class="gp">   ....: </span>        <span class="k">if</span> <span class="n">n</span> <span class="o">%</span> <span class="n">d</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
<span class="gp">   ....: </span>            <span class="k">return</span> <span class="kc">False</span>
<span class="gp">   ....: </span>    <span class="k">return</span> <span class="kc">True</span>
<span class="gp">   ....: </span>

<span class="gp">In [11]: </span><span class="nb">print</span><span class="p">([(</span><span class="n">n</span><span class="p">,</span> <span class="n">est_premier</span><span class="p">(</span><span class="n">n</span><span class="p">))</span> <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">)])</span>
<span class="go">[(0, False), (1, False), (2, True), (3, True), (4, False), (5, True), (6, False), (7, True), (8, False), (9, False)]</span>
</pre></div>
</div>
<p>Une fonction peut ne pas contenir d’instruction <code class="code docutils literal notranslate"><span class="pre">return</span></code> ou peut ne renvoyer aucune valeur. En fait, si on ne renvoie pas explicitement de valeur, Python renverra par défaut la valeur particulière <code class="code docutils literal notranslate"><span class="pre">None</span></code>.</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [12]: </span><span class="k">def</span> <span class="nf">f</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
<span class="gp">   ....: </span>    <span class="n">x</span><span class="o">**</span><span class="mi">2</span>
<span class="gp">   ....: </span>
</pre></div>
</div>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [13]: </span><span class="nb">print</span><span class="p">(</span><span class="n">f</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span>
<span class="go">None</span>
</pre></div>
</div>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [14]: </span><span class="k">def</span> <span class="nf">g</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
<span class="gp">   ....: </span>    <span class="mi">2</span> <span class="o">*</span> <span class="n">x</span>
<span class="gp">   ....: </span>    <span class="k">return</span>
<span class="gp">   ....: </span>
</pre></div>
</div>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [15]: </span><span class="nb">print</span><span class="p">(</span><span class="n">g</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span>
<span class="go">None</span>
</pre></div>
</div>
<div class="admonition warning">
<p class="admonition-title">Avertissement</p>
<p>Une erreur de débutant consiste à confondre les utilisations de <code class="code docutils literal notranslate"><span class="pre">print</span></code> et <code class="code docutils literal notranslate"><span class="pre">return</span></code> : une fonction ne comportant qu’un <code class="code docutils literal notranslate"><span class="pre">print</span></code> et pas de <code class="code docutils literal notranslate"><span class="pre">return</span></code> ne fera qu’afficher un résultat à l’écran mais ne renverra aucune valeur.</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [16]: </span><span class="k">def</span> <span class="nf">bidon</span><span class="p">():</span>
<span class="gp">   ....: </span>    <span class="nb">print</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">   ....: </span>    <span class="k">return</span> <span class="mi">2</span>
<span class="gp">   ....: </span>

<span class="gp">In [17]: </span><span class="n">a</span> <span class="o">=</span> <span class="n">bidon</span><span class="p">()</span> <span class="c1"># La fonction bidon affiche bien 1</span>
<span class="go">1</span>

<span class="gp">In [18]: </span><span class="n">a</span>           <span class="c1"># Mais elle a renvoyé la valeur 2</span>
<span class="gh">Out[18]: </span><span class="go">2</span>
</pre></div>
</div>
</div>
<p>La plupart du temps, on préfèrera utiliser utiliser <code class="code docutils literal notranslate"><span class="pre">return</span></code> plutôt que <code class="code docutils literal notranslate"><span class="pre">print</span></code> : l’objet affiché par <code class="code docutils literal notranslate"><span class="pre">print</span></code> est en quelque sorte « perdu » pour le reste du programme s’il n’a pas été renvoyé via <code class="code docutils literal notranslate"><span class="pre">return</span></code>.</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [19]: </span><span class="k">def</span> <span class="nf">liste_carres1</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
<span class="gp">   ....: </span>    <span class="nb">print</span><span class="p">([</span><span class="n">k</span><span class="o">**</span><span class="mi">2</span> <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">n</span><span class="o">+</span><span class="mi">1</span><span class="p">)])</span>
<span class="gp">   ....: </span>
</pre></div>
</div>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [20]: </span><span class="k">def</span> <span class="nf">liste_carres2</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
<span class="gp">   ....: </span>    <span class="k">return</span> <span class="p">[</span><span class="n">k</span><span class="o">**</span><span class="mi">2</span> <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">n</span><span class="o">+</span><span class="mi">1</span><span class="p">)]</span>
<span class="gp">   ....: </span>
</pre></div>
</div>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="go"># Avec la première version, la liste des carrés est affichée mais on ne peut plus rien en faire</span>
<span class="gp">In [21]: </span><span class="n">liste_carres1</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<span class="go">[1, 4, 9, 16, 25, 36, 49, 64, 81, 100]</span>

<span class="go"># En effet, la fonction renvoie None</span>
<span class="gp">In [22]: </span><span class="nb">print</span><span class="p">(</span><span class="n">liste_carres1</span><span class="p">(</span><span class="mi">10</span><span class="p">))</span>
<span class="go">[1, 4, 9, 16, 25, 36, 49, 64, 81, 100]</span>
<span class="go">None</span>

<span class="go"># Avec la deuxième version, on peut par exemple calculer la somme des carrés des premiers entiers</span>
<span class="gp">In [23]: </span><span class="nb">sum</span><span class="p">(</span><span class="n">liste_carres2</span><span class="p">(</span><span class="mi">10</span><span class="p">))</span>
<span class="gh">Out[23]: </span><span class="go">385</span>
</pre></div>
</div>
</section>
<section id="parametres-et-arguments">
<h2 id="parametres-et-arguments"><span class="section-number">5.4.3. </span>Paramètres et arguments<a class="headerlink" href="#parametres-et-arguments" title="Lien permanent vers cette rubrique">¶</a></h2>
<p>Une fonction peut avoir zéro, un ou plusieurs paramètres <a class="footnote-reference brackets" href="#zeroparametre" id="id1" role="doc-noteref"><span class="fn-bracket">[</span>1<span class="fn-bracket">]</span></a>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Bien que les termes <em>paramètres</em> et <em>arguments</em> soient souvent confondus, il existe une nuance dont nous tiendrons compte dans ce chapitre : les <em>paramètres</em> sont les noms intervenant dans l’en-tête de la fonction tandis que les <em>arguments</em> sont les valeurs passées à la fonction lors de son appel.</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [24]: </span><span class="k">def</span> <span class="nf">add</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">):</span>      <span class="c1"># Les paramètres sont a et b</span>
<span class="gp">   ....: </span>    <span class="k">return</span> <span class="n">a</span> <span class="o">+</span> <span class="n">b</span>
<span class="gp">   ....: </span>

<span class="gp">In [25]: </span><span class="n">add</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>          <span class="c1"># Les arguments sont 5 et 10</span>
<span class="gh">Out[25]: </span><span class="go">15</span>
</pre></div>
</div>
</div>
<p>De même que pour les variables, les noms des paramètres doivent refléter leur utilisation pour que le code soit plus lisible. Par ailleurs, on peut passer des arguments à une fonction en utilisant les noms des paramètres, ce qui rend le code encore plus explicite.</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [26]: </span><span class="k">def</span> <span class="nf">nom_complet</span><span class="p">(</span><span class="n">prenom</span><span class="p">,</span> <span class="n">nom</span><span class="p">):</span>
<span class="gp">   ....: </span>    <span class="k">return</span> <span class="n">prenom</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span> <span class="o">+</span> <span class="n">prenom</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">+</span> <span class="s1">' '</span> <span class="o">+</span> <span class="n">nom</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span>
<span class="gp">   ....: </span>

<span class="gp">In [27]: </span><span class="n">nom_complet</span><span class="p">(</span><span class="n">prenom</span><span class="o">=</span><span class="s1">'james'</span><span class="p">,</span> <span class="n">nom</span><span class="o">=</span><span class="s1">'bond'</span><span class="p">)</span>
<span class="gh">Out[27]: </span><span class="go">'James BOND'</span>
</pre></div>
</div>
<p>L’emploi d\”<em>arguments nommés</em> permet de passer les arguments dans un ordre différent de l’ordre des paramètres dans l’en-tête de la fonction.</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [28]: </span><span class="n">nom_complet</span><span class="p">(</span><span class="n">nom</span><span class="o">=</span><span class="s1">'PrOuSt'</span><span class="p">,</span> <span class="n">prenom</span><span class="o">=</span><span class="s1">'MARcel'</span><span class="p">)</span>
<span class="gh">Out[28]: </span><span class="go">'Marcel PROUST'</span>
</pre></div>
</div>
<p>Il est possible de donner des valeurs par défaut aux paramètres d’une fonction : les arguments correspondants ne sont plus alors requis lors de l’appel de la fonction.</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [29]: </span><span class="k">def</span> <span class="nf">nom_complet</span><span class="p">(</span><span class="n">prenom</span><span class="o">=</span><span class="s1">'Joe'</span><span class="p">,</span> <span class="n">nom</span><span class="o">=</span><span class="s1">'Bob'</span><span class="p">):</span>
<span class="gp">   ....: </span>    <span class="k">return</span> <span class="n">prenom</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span> <span class="o">+</span> <span class="n">prenom</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">+</span> <span class="s1">' '</span> <span class="o">+</span> <span class="n">nom</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span>
<span class="gp">   ....: </span>

<span class="gp">In [30]: </span><span class="n">nom_complet</span><span class="p">()</span>
<span class="gh">Out[30]: </span><span class="go">'Joe BOB'</span>

<span class="gp">In [31]: </span><span class="n">nom_complet</span><span class="p">(</span><span class="s1">'ulysse'</span><span class="p">)</span>
<span class="gh">Out[31]: </span><span class="go">'Ulysse BOB'</span>

<span class="gp">In [32]: </span><span class="n">nom_complet</span><span class="p">(</span><span class="n">nom</span><span class="o">=</span><span class="s1">'capet'</span><span class="p">)</span>
<span class="gh">Out[32]: </span><span class="go">'Joe CAPET'</span>
</pre></div>
</div>
<p>Dans l’en-tête d’une fonction les paramètres avec des valeurs par défaut doivent toujours <em>suivre</em> les paramètres sans valeurs par défaut sous peine de déclencher une erreur de syntaxe.</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [33]: </span><span class="k">def</span> <span class="nf">toto</span><span class="p">(</span><span class="n">a</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="mi">2</span><span class="p">):</span>
<span class="gp">   ....: </span>    <span class="k">pass</span>
<span class="gp">   ....: </span>
<span class="go">  Cell In[33], line 1</span>
<span class="go">    def toto(a=1, b, c=2):</span>
<span class="go">                  ^</span>
<span class="go">SyntaxError: non-default argument follows default argument</span>
</pre></div>
</div>
<p>Le but est d’éviter toute ambiguïté. En effet, quels seraient les arguments passés lors de l’appel de fonction <code class="code docutils literal notranslate"><span class="pre">toto(5,</span> <span class="pre">6)</span></code> ? <code class="code docutils literal notranslate"><span class="pre">a=1</span></code>, <code class="code docutils literal notranslate"><span class="pre">b=5</span></code> et <code class="code docutils literal notranslate"><span class="pre">c=6</span></code> ou bien <code class="code docutils literal notranslate"><span class="pre">a=5</span></code>, <code class="code docutils literal notranslate"><span class="pre">b=6</span></code> et <code class="code docutils literal notranslate"><span class="pre">c=2</span></code> ?</p>
</section>
<section id="portee-des-variables">
<h2 id="portee-des-variables"><span class="section-number">5.4.4. </span>Portée des variables<a class="headerlink" href="#portee-des-variables" title="Lien permanent vers cette rubrique">¶</a></h2>
<p>Une fonction peut utiliser des variables définies <strong>à l’extérieur</strong> de cette fonction.</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [34]: </span><span class="n">a</span> <span class="o">=</span> <span class="mi">2</span>

<span class="gp">In [35]: </span><span class="k">def</span> <span class="nf">f</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
<span class="gp">   ....: </span>    <span class="k">return</span> <span class="n">a</span> <span class="o">*</span> <span class="n">x</span>
<span class="gp">   ....: </span>

<span class="gp">In [36]: </span><span class="n">f</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="gh">Out[36]: </span><span class="go">10</span>
</pre></div>
</div>
<p>On dit que les variables définies à l’extérieur d’une fonction sont des variables <strong>globales</strong>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>De manière générale, il est plutôt déconseillé d’utiliser des variables globales à l’intérieur d’une fonction. Il est par exemple plus difficile de tester ou débugger une fonction faisant appel à des variables globales : en plus de chercher les bugs à l’intérieur de la fonction, il faudra examiner tous les endroits où ces variables globales sont potentiellement modifiées, ce qui peut devenir un vrai casse-tête dans un programme complexe.</p>
</div>
<div class="admonition warning">
<p class="admonition-title">Avertissement</p>
<p>Si on veut utiliser une variable globale à l’intérieur d’une fonction, il faut que celle-ci soit déclarée <strong>avant</strong> l’appel de cette fonction.</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [37]: </span><span class="k">def</span> <span class="nf">f</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
<span class="gp">   ....: </span>    <span class="k">return</span> <span class="n">b</span> <span class="o">*</span> <span class="n">x</span>
<span class="gp">   ....: </span>

<span class="gp">In [38]: </span><span class="n">f</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="gh">Out[38]: </span><span class="go">30</span>

<span class="gp">In [39]: </span><span class="n">b</span> <span class="o">=</span> <span class="mi">2</span>
</pre></div>
</div>
</div>
<p>Considérons maintenant l’exemple suivant.</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [40]: </span><span class="n">a</span> <span class="o">=</span> <span class="mi">1</span>

<span class="gp">In [41]: </span><span class="k">def</span> <span class="nf">f</span><span class="p">():</span>
<span class="gp">   ....: </span>    <span class="n">a</span> <span class="o">=</span> <span class="mi">2</span>
<span class="gp">   ....: </span>    <span class="k">return</span> <span class="kc">None</span>
<span class="gp">   ....: </span>

<span class="gp">In [42]: </span><span class="n">a</span>
<span class="gh">Out[42]: </span><span class="go">1</span>

<span class="gp">In [43]: </span><span class="n">f</span><span class="p">()</span>

<span class="gp">In [44]: </span><span class="n">a</span>   <span class="c1"># a vaut toujours 1</span>
<span class="gh">Out[44]: </span><span class="go">1</span>
</pre></div>
</div>
<p>On dit que les variables à l’intérieur d’une fonction sont des variables <strong>locales</strong>. Cela signifie en particulier que des opérations effectuées sur une variable d’un certain nom <strong>à l’intérieur</strong> d’une fonction ne modifient pas une variable du même nom <strong>à l’extérieur</strong> de cette fonction.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>On évitera cependant de donner des noms identiques à des variables locales et globales de manière à éviter toute confusion.</p>
</div>
<p>Quand il existe des variables locales et globales de même nom, la préférence est donnée aux variables locales à l’intérieur de la fonction.</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [45]: </span><span class="n">a</span> <span class="o">=</span> <span class="mi">1</span>

<span class="gp">In [46]: </span><span class="k">def</span> <span class="nf">f</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
<span class="gp">   ....: </span>    <span class="n">a</span> <span class="o">=</span> <span class="mi">3</span>
<span class="gp">   ....: </span>    <span class="k">return</span> <span class="n">a</span> <span class="o">+</span> <span class="n">x</span>    <span class="c1"># la variable locale a est utilisée et non la variable globale a</span>
<span class="gp">   ....: </span>

<span class="gp">In [47]: </span><span class="n">f</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="gh">Out[47]: </span><span class="go">8</span>
</pre></div>
</div>
<p>On ne peut pas accéder à des variables locales à l’extérieur de la fonction où elles sont définies.</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [48]: </span><span class="k">def</span> <span class="nf">f</span><span class="p">():</span>
<span class="gp">   ....: </span>    <span class="n">c</span> <span class="o">=</span> <span class="mi">2</span>
<span class="gp">   ....: </span>    <span class="k">return</span> <span class="kc">None</span>
<span class="gp">   ....: </span>

<span class="gp">In [49]: </span><span class="n">f</span><span class="p">()</span>

<span class="gp">In [50]: </span><span class="n">c</span>   <span class="c1"># c est inconnu à l'extérieur de la fonction</span>
<span class="gh">Out[50]: </span><span class="go">'t'</span>
</pre></div>
</div>
<p>On peut donc également voir les variables locales comme des variables <em>temporaires</em> dont l’existence n’est assurée qu’à l’intérieur de la fonction où elles interviennent.</p>
<p>On peut néanmoins modifier une variable globale à l’intérieur d’une fonction : on utilise alors le mot-clé <code class="code docutils literal notranslate"><span class="pre">global</span></code>.</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [51]: </span><span class="n">a</span> <span class="o">=</span> <span class="mi">1</span>

<span class="gp">In [52]: </span><span class="k">def</span> <span class="nf">f</span><span class="p">():</span>
<span class="gp">   ....: </span>    <span class="k">global</span> <span class="n">a</span>
<span class="gp">   ....: </span>    <span class="n">a</span> <span class="o">=</span> <span class="mi">2</span>
<span class="gp">   ....: </span>    <span class="k">return</span> <span class="kc">None</span>
<span class="gp">   ....: </span>

<span class="gp">In [53]: </span><span class="n">a</span>
<span class="gh">Out[53]: </span><span class="go">1</span>

<span class="gp">In [54]: </span><span class="n">f</span><span class="p">()</span>

<span class="gp">In [55]: </span><span class="n">a</span>   <span class="c1"># a vaut bien 2</span>
<span class="gh">Out[55]: </span><span class="go">2</span>
</pre></div>
</div>
<p>Les paramètres d’une fonction ont également une portée locale. On ne peut accéder à une variable locale à l’extérieur de la fonction où elle est définie.</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [56]: </span><span class="k">def</span> <span class="nf">f</span><span class="p">(</span><span class="n">c</span><span class="p">):</span>
<span class="gp">   ....: </span>    <span class="k">return</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">c</span>
<span class="gp">   ....: </span>

<span class="gp">In [57]: </span><span class="n">c</span>   <span class="c1"># c est inconnu à l'extérieur de la fonction</span>
<span class="gh">Out[57]: </span><span class="go">'t'</span>
</pre></div>
</div>
<p>Enfin, un paramètre ne peut être déclaré comme variable global à l’intérieur d’une fonction.</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [58]: </span><span class="k">def</span> <span class="nf">f</span><span class="p">(</span><span class="n">g</span><span class="p">):</span>
<span class="gp">   ....: </span>     <span class="k">global</span> <span class="n">g</span>
<span class="gp">   ....: </span>
<span class="go">  Cell In[58], line 2</span>
<span class="go">    global g</span>
<span class="go">    ^</span>
<span class="go">SyntaxError: name 'g' is parameter and global</span>
</pre></div>
</div>
</section>
<section id="fonctions-et-mutabilite">
<h2 id="fonctions-et-mutabilite"><span class="section-number">5.4.5. </span>Fonctions et mutabilité<a class="headerlink" href="#fonctions-et-mutabilite" title="Lien permanent vers cette rubrique">¶</a></h2>
<p>Considérons ce premier exemple où l’argument est un entier.</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [59]: </span><span class="k">def</span> <span class="nf">f</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
<span class="gp">   ....: </span>    <span class="n">x</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="gp">   ....: </span>
</pre></div>
</div>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [60]: </span><span class="n">a</span> <span class="o">=</span> <span class="mi">2</span>

<span class="gp">In [61]: </span><span class="n">f</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>

<span class="gp">In [62]: </span><span class="n">a</span>           <span class="c1"># la variable a n'est pas modifiée</span>
<span class="gh">Out[62]: </span><span class="go">2</span>
</pre></div>
</div>
<p>Et maintenant, un deuxième exemple où l’argument est une liste.</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [63]: </span><span class="k">def</span> <span class="nf">g</span><span class="p">(</span><span class="n">li</span><span class="p">):</span>
<span class="gp">   ....: </span>    <span class="n">li</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">   ....: </span>
</pre></div>
</div>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [64]: </span><span class="n">lst</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span>

<span class="gp">In [65]: </span><span class="n">g</span><span class="p">(</span><span class="n">lst</span><span class="p">)</span>

<span class="gp">In [66]: </span><span class="n">lst</span>       <span class="c1"># la variable lst a été modifiée</span>
<span class="gh">Out[66]: </span><span class="go">[1, 2, 3]</span>
</pre></div>
</div>
<p>Le résultat du deuxième exemple peut sembler étrange puisqu’une variable globale a été modifiée à l’intérieur d’une fonction. Pour expliquer cette différence de comportement, il faut comprendre plus en détail comment sont passés les arguments à une fonction et faire une distinction entre les objets <em>mutables</em> et <em>immutables</em>.</p>
<ul class="simple">
<li><p>Lors de l’exécution des instructions <code class="code docutils literal notranslate"><span class="pre">f(a)</span></code> et <code class="code docutils literal notranslate"><span class="pre">g(lst)</span></code>, les emplacements en mémoire dans lesquels sont stockés les objets associés aux variables <code class="code docutils literal notranslate"><span class="pre">a</span></code> et <code class="code docutils literal notranslate"><span class="pre">lst</span></code> (c’est-à-dire l’entier <code class="code docutils literal notranslate"><span class="pre">2</span></code> et la lst <code class="code docutils literal notranslate"><span class="pre">[1,</span> <span class="pre">2]</span></code>) sont passés aux fonctions <code class="code docutils literal notranslate"><span class="pre">f</span></code> et <code class="code docutils literal notranslate"><span class="pre">g</span></code> et les paramètres <code class="code docutils literal notranslate"><span class="pre">x</span></code> et <code class="code docutils literal notranslate"><span class="pre">li</span></code> pointent alors vers ces emplacements en mémoire.</p></li>
<li><p>Puisqu’un entier est un objet immutable, l’instruction <code class="code docutils literal notranslate"><span class="pre">x</span> <span class="pre">+=</span> <span class="pre">1</span></code> fait pointer le paramètre <code class="code docutils literal notranslate"><span class="pre">x</span></code> vers un nouvel emplacement mémoire où est stocké l’entier <code class="code docutils literal notranslate"><span class="pre">3</span></code>. Cependant, a variable <code class="code docutils literal notranslate"><span class="pre">a</span></code> pointe toujours vers l’ancien emplacement en mémoire et est donc toujours associée à l’entier <code class="code docutils literal notranslate"><span class="pre">2</span></code>.</p></li>
</ul>
<div class="figure" style="text-align: center"><p><img alt="Figure made with TikZ" src="_images/tikz-81a98fa821a20ed3a4607555fef05e45a89689f6.png"/></p>
</div><ul class="simple">
<li><p>Par contre, une liste étant un objet mutable, l’instruction <code class="code docutils literal notranslate"><span class="pre">li.append(3)</span></code> modifie l’objet stocké à l’emplacement en mémoire vers lequel pointe <code class="code docutils literal notranslate"><span class="pre">li</span></code>. Cet objet vaut alors <code class="code docutils literal notranslate"><span class="pre">[1,</span> <span class="pre">2,</span> <span class="pre">3]</span></code>. Mais la variable <code class="code docutils literal notranslate"><span class="pre">lst</span></code> pointe toujours vers le même emplacement en mémoire et est donc associé à cet objet modifié.</p></li>
</ul>
<div class="figure" style="text-align: center"><p><img alt="Figure made with TikZ" src="_images/tikz-27267dbd617b1660bc6414d7cc6fb29b22c295c2.png"/></p>
</div><p>On se convaincra plus facilement en utilisant la fonction <code class="code docutils literal notranslate"><span class="pre">id</span></code> qui renvoie l’emplacement où est stocké un objet en mémoire et l’opérateur <code class="code docutils literal notranslate"><span class="pre">is</span></code> qui teste si deux objets sont physiquement égaux (c’est-à-dire s’ils occupent le même emplacement en mémoire).</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [67]: </span><span class="k">def</span> <span class="nf">f</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
<span class="gp">   ....: </span>    <span class="nb">print</span><span class="p">(</span><span class="s1">'x début fonction f'</span><span class="p">,</span> <span class="nb">id</span><span class="p">(</span><span class="n">x</span><span class="p">),</span> <span class="n">x</span> <span class="ow">is</span> <span class="n">a</span><span class="p">)</span>
<span class="gp">   ....: </span>    <span class="n">x</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="gp">   ....: </span>    <span class="nb">print</span><span class="p">(</span><span class="s1">'x fin fonction f'</span><span class="p">,</span> <span class="nb">id</span><span class="p">(</span><span class="n">x</span><span class="p">),</span> <span class="n">x</span> <span class="ow">is</span> <span class="n">a</span><span class="p">)</span>
<span class="gp">   ....: </span>
</pre></div>
</div>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [68]: </span><span class="n">a</span> <span class="o">=</span> <span class="mi">2</span>

<span class="gp">In [69]: </span><span class="nb">print</span><span class="p">(</span><span class="s1">'a avant appel fonction f'</span><span class="p">,</span> <span class="nb">id</span><span class="p">(</span><span class="n">a</span><span class="p">))</span>
<span class="go">a avant appel fonction f 140703447966536</span>

<span class="gp">In [70]: </span><span class="n">f</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="go">x début fonction f 140703447966536 True</span>
<span class="go">x fin fonction f 140703447966568 False</span>

<span class="gp">In [71]: </span><span class="nb">print</span><span class="p">(</span><span class="s1">'a après appel fonction f'</span><span class="p">,</span> <span class="nb">id</span><span class="p">(</span><span class="n">a</span><span class="p">))</span>
<span class="go">a après appel fonction f 140703447966536</span>

<span class="gp">In [72]: </span><span class="n">a</span>
<span class="gh">Out[72]: </span><span class="go">2</span>
</pre></div>
</div>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [73]: </span><span class="k">def</span> <span class="nf">g</span><span class="p">(</span><span class="n">li</span><span class="p">):</span>
<span class="gp">   ....: </span>    <span class="nb">print</span><span class="p">(</span><span class="s1">'li début fonction g'</span><span class="p">,</span> <span class="nb">id</span><span class="p">(</span><span class="n">li</span><span class="p">),</span> <span class="n">lst</span> <span class="ow">is</span> <span class="n">li</span><span class="p">)</span>
<span class="gp">   ....: </span>    <span class="n">li</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">'toto'</span><span class="p">)</span>
<span class="gp">   ....: </span>    <span class="nb">print</span><span class="p">(</span><span class="s1">'li fin fonction g'</span><span class="p">,</span> <span class="nb">id</span><span class="p">(</span><span class="n">li</span><span class="p">),</span> <span class="n">lst</span> <span class="ow">is</span> <span class="n">li</span><span class="p">)</span>
<span class="gp">   ....: </span>
</pre></div>
</div>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [74]: </span><span class="n">lst</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>

<span class="gp">In [75]: </span><span class="nb">print</span><span class="p">(</span><span class="s1">'lst avant appel fonction g'</span><span class="p">,</span> <span class="nb">id</span><span class="p">(</span><span class="n">lst</span><span class="p">))</span>
<span class="go">lst avant appel fonction g 2223621798080</span>

<span class="gp">In [76]: </span><span class="n">g</span><span class="p">(</span><span class="n">lst</span><span class="p">)</span>
<span class="go">li début fonction g 2223621798080 True</span>
<span class="go">li fin fonction g 2223621798080 True</span>

<span class="gp">In [77]: </span><span class="nb">print</span><span class="p">(</span><span class="s1">'lst après appel fonction g'</span><span class="p">,</span> <span class="nb">id</span><span class="p">(</span><span class="n">lst</span><span class="p">))</span>
<span class="go">lst après appel fonction g 2223621798080</span>

<span class="gp">In [78]: </span><span class="n">lst</span>
<span class="gh">Out[78]: </span><span class="go">[1, 2, 3, 'toto']</span>
</pre></div>
</div>
<p>Finalement, on peut résumer les choses de la manière suivante.</p>
<div class="admonition tip">
<p class="admonition-title">Astuce</p>
<p>Un objet mutable peut-être modifé s’il est passé en argument à une fonction alors que ce ne sera jamais le cas pour un objet immutable.</p>
</div>
<p>Enfin, soulignons qu’il peut se passer des choses étranges lorsque l’on utilise des <em>arguments par défaut mutables</em>.</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [79]: </span><span class="k">def</span> <span class="nf">pizza</span><span class="p">(</span><span class="n">supplements</span><span class="p">,</span> <span class="n">base</span><span class="o">=</span><span class="p">[</span><span class="s1">'jambon'</span><span class="p">,</span> <span class="s1">'fromage'</span><span class="p">]):</span>
<span class="gp">   ....: </span>    <span class="n">base</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">supplements</span><span class="p">)</span>
<span class="gp">   ....: </span>    <span class="k">return</span> <span class="n">base</span>
<span class="gp">   ....: </span>

<span class="go"># Jusqu'ici tout va bien</span>
<span class="gp">In [80]: </span><span class="nb">print</span><span class="p">(</span><span class="n">pizza</span><span class="p">([</span><span class="s1">'pepperoni'</span><span class="p">,</span> <span class="s1">'poivrons'</span><span class="p">]))</span>
<span class="go">['jambon', 'fromage', 'pepperoni', 'poivrons']</span>

<span class="gp">In [81]: </span><span class="nb">print</span><span class="p">(</span><span class="n">pizza</span><span class="p">([</span><span class="s1">'champignons'</span><span class="p">],</span> <span class="p">[</span><span class="s1">'jambon'</span><span class="p">]))</span>
<span class="go">['jambon', 'champignons']</span>

<span class="go"># Ca devient bizarre</span>
<span class="gp">In [82]: </span><span class="nb">print</span><span class="p">(</span><span class="n">pizza</span><span class="p">([</span><span class="s1">'anchois'</span><span class="p">,</span> <span class="s1">'olives'</span><span class="p">]))</span>
<span class="go">['jambon', 'fromage', 'pepperoni', 'poivrons', 'anchois', 'olives']</span>

<span class="gp">In [83]: </span><span class="nb">print</span><span class="p">(</span><span class="n">pizza</span><span class="p">([</span><span class="s1">'champignons'</span><span class="p">]))</span>
<span class="go">['jambon', 'fromage', 'pepperoni', 'poivrons', 'anchois', 'olives', 'champignons']</span>

<span class="go"># Ca redevient normal</span>
<span class="gp">In [84]: </span><span class="nb">print</span><span class="p">(</span><span class="n">pizza</span><span class="p">([</span><span class="s1">'anchois'</span><span class="p">,</span> <span class="s1">'olives'</span><span class="p">],</span> <span class="p">[</span><span class="s1">'jambon'</span><span class="p">,</span> <span class="s1">'oeuf'</span><span class="p">,</span> <span class="s1">'fromage'</span><span class="p">]))</span>
<span class="go">['jambon', 'oeuf', 'fromage', 'anchois', 'olives']</span>
</pre></div>
</div>
<p>Il faut comprendre que la liste servant d’argument par défaut est créée une fois pour toute <em>à la déclaration de la fonction</em> et non à chaque appel de la fonction. Comme il s’agit d’un objet mutable, chaque appel de la fonction modifie cette liste. A chaque appel de la fonction, c’est donc cette nouvelle liste qui sert d’argument par défaut et non celle définie dans l’en-tête de la fonction.</p>
</section>
<section id="une-fonction-est-un-objet">
<h2 id="une-fonction-est-un-objet"><span class="section-number">5.4.6. </span>Une fonction est un objet<a class="headerlink" href="#une-fonction-est-un-objet" title="Lien permanent vers cette rubrique">¶</a></h2>
<p>Il est important de noter qu’en Python, les fonctions sont des objets commes les autres (entiers, tuples, …). Notamment, une fonction possède un type.</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [85]: </span><span class="k">def</span> <span class="nf">f</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
<span class="gp">   ....: </span>    <span class="k">return</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">x</span>
<span class="gp">   ....: </span>

<span class="gp">In [86]: </span><span class="nb">type</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
<span class="gh">Out[86]: </span><span class="go">function</span>
</pre></div>
</div>
<p>Ceci est important car on peut par exemple utiliser une fonction comme un argument d’une autre fonction.</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [87]: </span><span class="k">def</span> <span class="nf">appliquer</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">x</span><span class="p">):</span>
<span class="gp">   ....: </span>    <span class="k">return</span> <span class="n">f</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="gp">   ....: </span>

<span class="gp">In [88]: </span><span class="k">def</span> <span class="nf">f</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
<span class="gp">   ....: </span>    <span class="k">return</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">x</span>
<span class="gp">   ....: </span>

<span class="gp">In [89]: </span><span class="n">appliquer</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
<span class="gh">Out[89]: </span><span class="go">10</span>
</pre></div>
</div>
<p>On peut également créer une fonction qui renvoie une autre fonction.</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [90]: </span><span class="k">def</span> <span class="nf">multiplier_par</span><span class="p">(</span><span class="n">a</span><span class="p">):</span>
<span class="gp">   ....: </span>    <span class="k">def</span> <span class="nf">f</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
<span class="gp">   ....: </span>        <span class="k">return</span> <span class="n">a</span> <span class="o">*</span> <span class="n">x</span>
<span class="gp">   ....: </span>    <span class="k">return</span> <span class="n">f</span>
<span class="gp">   ....: </span>

<span class="gp">In [91]: </span><span class="n">multiplier_par</span><span class="p">(</span><span class="mi">2</span><span class="p">)(</span><span class="mi">5</span><span class="p">)</span>
<span class="gh">Out[91]: </span><span class="go">10</span>
</pre></div>
</div>
</section>
<section id="documentation-d-une-fonction">
<h2 id="documentation-d-une-fonction"><span class="section-number">5.4.7. </span>Documentation d’une fonction<a class="headerlink" href="#documentation-d-une-fonction" title="Lien permanent vers cette rubrique">¶</a></h2>
<p>La plupart des fonctions disponibles de manière standard dans Python ou dans des modules « officiels » sont documentées. On accède à la documentation d’une fonction via la fonction <code class="code docutils literal notranslate"><span class="pre">help</span></code>.</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [92]: </span><span class="n">help</span><span class="p">(</span><span class="nb">len</span><span class="p">)</span>
<span class="go">Help on built-in function len in module builtins:</span>

<span class="go">len(obj, /)</span>
<span class="go">    Return the number of items in a container.</span>


<span class="gp">In [93]: </span><span class="kn">from</span> <span class="nn">math</span> <span class="kn">import</span> <span class="n">exp</span>

<span class="gp">In [94]: </span><span class="n">help</span><span class="p">(</span><span class="n">exp</span><span class="p">)</span>
<span class="go">Help on built-in function exp in module math:</span>

<span class="go">exp(x, /)</span>
<span class="go">    Return e raised to the power of x.</span>
</pre></div>
</div>
<p>Quand on définit ses propres fonctions, il faut prendre également prendre l’habitude de les documenter. Il s’agit :</p>
<ul class="simple">
<li><p>de définir l’action de la fonction;</p></li>
<li><p>de préciser le type des paramètres ;</p></li>
<li><p>de spécifier le cas échéant la valeur de retour et son type.</p></li>
</ul>
<p>On documente une fonction à l’aide d’une chaîne de caractère spéciale appelée <strong>docstring</strong> placée directement sous l’entête de la fonction. Comme pour les fonctions prédéfinies, on peut accéder à la documentation de ses propres fonctions via la fonction <code class="code docutils literal notranslate"><span class="pre">help</span></code>.</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [95]: </span><span class="k">def</span> <span class="nf">minimum</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">):</span>
<span class="gp">   ....: </span><span class="w">    </span><span class="sd">"""</span>
<span class="gp">   ....: </span><span class="sd">    Calcule le minimum de a et b</span>
<span class="gp">   ....: </span><span class="sd">    Paramètres : deux valeurs numériques a et b</span>
<span class="gp">   ....: </span><span class="sd">    Revoie : le plus petit des deux entiers a et b</span>
<span class="gp">   ....: </span><span class="sd">    """</span>
<span class="gp">   ....: </span>    <span class="k">if</span> <span class="n">a</span> <span class="o">&lt;</span> <span class="n">b</span><span class="p">:</span>
<span class="gp">   ....: </span>        <span class="k">return</span> <span class="n">a</span>
<span class="gp">   ....: </span>    <span class="k">return</span> <span class="n">b</span>
<span class="gp">   ....: </span>

<span class="gp">In [96]: </span><span class="n">help</span><span class="p">(</span><span class="n">minimum</span><span class="p">)</span>
<span class="go">Help on function minimum in module __main__:</span>

<span class="go">minimum(a, b)</span>
<span class="go">    Calcule le minimum de a et b</span>
<span class="go">    Paramètres : deux valeurs numériques a et b</span>
<span class="go">    Revoie : le plus petit des deux entiers a et b</span>
</pre></div>
</div>
<p>Le fait de documenter ses fonctions peut sembler être une perte de temps au premier abord. Mais la documentation est essentielle pour au moins deux raisons.</p>
<ul class="simple">
<li><p>Il faut penser que d’autres personnes voudront utiliser votre code : elles ne sont pas censées se plonger dans votre code pour deviner à quoi servent vos fonction et comment les utiliser.</p></li>
<li><p>Si vous vous replongez quelques mois après dans votre code pour débugger ou améliorer vos fonctions, il y a de fortes chances que vous ne vous vous souveniez plus de vos intentions au moment où vous les avez écrites.</p></li>
</ul>
<p>En plus de la docstring, il peut être utile de documenter une fonction à l’aide de commentaires.</p>
<div class="admonition-todo admonition" id="id2">
<p class="admonition-title">À faire</p>
<p>renvoyer vers commentaires</p>
</div>
</section>
<section id="effets-de-bord">
<h2 id="effets-de-bord"><span class="section-number">5.4.8. </span>Effets de bord<a class="headerlink" href="#effets-de-bord" title="Lien permanent vers cette rubrique">¶</a></h2>
<p>En plus de renvoyer une valeur, une fonction peut entraîner des modifications au-delà de sa portée comme :</p>
<ul class="simple">
<li><p>modifier des variables globales ;</p></li>
<li><p>modifier des arguments mutables ;</p></li>
<li><p>afficher des informations à l’écran ;</p></li>
<li><p>enregistrer des données dans un fichier.</p></li>
</ul>
<p>On parle alors d\”<strong>effet de bord</strong>.</p>
<p>Voici une fonction avec effet de bord. Elle modifie en effet la variable globale <code class="code docutils literal notranslate"><span class="pre">x</span></code>.</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [97]: </span><span class="n">x</span> <span class="o">=</span> <span class="mi">1</span>

<span class="gp">In [98]: </span><span class="k">def</span> <span class="nf">add</span><span class="p">():</span>
<span class="gp">   ....: </span>    <span class="k">global</span> <span class="n">x</span>
<span class="gp">   ....: </span>    <span class="n">x</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="gp">   ....: </span>    <span class="k">return</span> <span class="mi">3</span>
<span class="gp">   ....: </span>

<span class="gp">In [99]: </span><span class="n">add</span><span class="p">()</span>
<span class="gh">Out[99]: </span><span class="go">3</span>

<span class="gp">In [100]: </span><span class="n">x</span>
<span class="gh">Out[100]: </span><span class="go">2</span>
</pre></div>
</div>
<p>Voici une fonction sans effet de bord.</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [101]: </span><span class="n">x</span><span class="o">=</span><span class="mi">1</span>

<span class="gp">In [102]: </span><span class="k">def</span> <span class="nf">add</span><span class="p">(</span><span class="n">y</span><span class="p">):</span>
<span class="gp">   .....: </span>    <span class="k">return</span> <span class="n">y</span> <span class="o">+</span> <span class="mi">1</span>
<span class="gp">   .....: </span>

<span class="gp">In [103]: </span><span class="n">x</span> <span class="o">=</span> <span class="mi">1</span>

<span class="gp">In [104]: </span><span class="n">add</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="gh">Out[104]: </span><span class="go">2</span>

<span class="gp">In [105]: </span><span class="n">x</span>
<span class="gh">Out[105]: </span><span class="go">1</span>
</pre></div>
</div>
<p>Les effets de bord sont à utiliser avec parcimonie : en effet, une fonction sans effet de bord aura toujours le même comportement si on lui fournit les mêmes arguments alors que ce n’est pas forcément le cas pour une fonction avec effet de bord. Lorsque l’on manipule des fonctions avec effets de bord, il peut être difficile de deviner quels sont leurs effects exacts sur l’état du programme.</p>
</section>
<section id="fonctions-anonymes">
<h2 id="fonctions-anonymes"><span class="section-number">5.4.9. </span>Fonctions anonymes<a class="headerlink" href="#fonctions-anonymes" title="Lien permanent vers cette rubrique">¶</a></h2>
<p>En mathématiques, on peut parler d’une fonction de plusieurs manières.</p>
<blockquote>
<div><ul class="simple">
<li><p>On peut lui donner un nom : on peut par exemple considérer la fonction <span class="math notranslate nohighlight">\(f\)</span> telle que <span class="math notranslate nohighlight">\(f(x)=x^2\)</span>.</p></li>
<li><p>Mais si on ne compte pas réutiliser plus tard cette fonction, on peut tout simplement parler de la fonction <span class="math notranslate nohighlight">\(x\mapsto x^2\)</span>.</p></li>
</ul>
</div></blockquote>
<p>De la même manière, on peut nommer explicitement une fonction.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">f</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">x</span><span class="o">**</span><span class="mi">2</span>
</pre></div>
</div>
<p>On peut également utiliser une <em>fonction anonyme</em> (également appelée <em>fonction lambda</em>).</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">**</span><span class="mi">2</span>
</pre></div>
</div>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [106]: </span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">**</span><span class="mi">2</span><span class="p">)(</span><span class="mi">4</span><span class="p">)</span>
<span class="gh">Out[106]: </span><span class="go">16</span>

<span class="gp">In [107]: </span><span class="n">f</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">**</span><span class="mi">2</span>              <span class="c1"># On peut bien sûr donner un nom à une fonction anonyme</span>

<span class="gp">In [108]: </span><span class="n">f</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="gh">Out[108]: </span><span class="go">16</span>

<span class="gp">In [109]: </span><span class="n">g</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">:</span> <span class="n">x</span><span class="o">**</span><span class="mi">2</span> <span class="o">+</span> <span class="n">y</span><span class="o">**</span><span class="mi">2</span>    <span class="c1"># Une fonction anonyme peut avoir plus d'un argument</span>

<span class="gp">In [110]: </span><span class="n">g</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="gh">Out[110]: </span><span class="go">5</span>
</pre></div>
</div>
<p>De manière générale, la syntaxe d’une fonction anonyme est la suivante.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">lambda</span> <span class="o">&lt;</span><span class="n">paramètres</span><span class="o">&gt;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">expression</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>A la différence d’une fonction classique, une fonction anonyme ne nécessite pas d’instruction <code class="code docutils literal notranslate"><span class="pre">return</span></code> : l’expression suivant <code class="code docutils literal notranslate"><span class="pre">:</span></code> est renvoyée <a class="footnote-reference brackets" href="#fctanonyme" id="id3" role="doc-noteref"><span class="fn-bracket">[</span>2<span class="fn-bracket">]</span></a>.</p>
<p>Les fonctions anonymes sont limitées par rapport aux fonctions classiques : elles ne peuvent pas exécuter plusieurs instructions puisque seule <strong>une</strong> expression est renvoyée. Quel est alors l’intérêt des fonctions anonymes ? Il s’agit de créer des fonctions à usage unique qui peuvent notamment servir d’arguments dans d’autres fonctions.</p>
<p>Par exemple, Python dispose d’une fonction <code class="code docutils literal notranslate"><span class="pre">map</span></code> qui permet d’appliquer une fonction à chaque élément d’un objet de type itérable.</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [111]: </span><span class="nb">list</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="mi">2</span><span class="o">*</span><span class="n">x</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]))</span>   <span class="c1"># la fonction map renvoie un objet de type map qu'on convertit en liste</span>
<span class="gh">Out[111]: </span><span class="go">[2, 4, 6]</span>
</pre></div>
</div>
<p>Bien entendu, on arriverait plus aisément au même résultat grâce à une liste en compréhension.</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [112]: </span><span class="p">[</span><span class="mi">2</span> <span class="o">*</span> <span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]]</span>
<span class="gh">Out[112]: </span><span class="go">[2, 4, 6]</span>
</pre></div>
</div>
<p class="rubric">Notes</p>
<aside class="footnote-list brackets">
<aside class="footnote brackets" id="zeroparametre" role="note">
<span class="label"><span class="fn-bracket">[</span><a href="#id1" role="doc-backlink">1</a><span class="fn-bracket">]</span></span>
<p>Une fonction sans paramètre nécessite quand même des parenthèses dans son en-tête.</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [113]: </span><span class="k">def</span> <span class="nf">f</span><span class="p">():</span>
<span class="gp">   .....: </span>    <span class="k">return</span> <span class="mi">1</span>
<span class="gp">   .....: </span>

<span class="gp">In [114]: </span><span class="n">f</span><span class="p">()</span>
<span class="gh">Out[114]: </span><span class="go">1</span>
</pre></div>
</div>
</aside>
<aside class="footnote brackets" id="fctanonyme" role="note">
<span class="label"><span class="fn-bracket">[</span><a href="#id3" role="doc-backlink">2</a><span class="fn-bracket">]</span></span>
<p>Une fonction anonyme peut également avoir des effets de bord.</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [115]: </span><span class="n">f</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">li</span><span class="p">:</span> <span class="n">li</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">'toto'</span><span class="p">)</span>

<span class="gp">In [116]: </span><span class="n">a</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span>

<span class="gp">In [117]: </span><span class="n">f</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>

<span class="gp">In [118]: </span><span class="n">a</span>               <span class="c1"># La fonction anonyme f a modifié la liste a</span>
<span class="gh">Out[118]: </span><span class="go">[1, 2, 'toto']</span>

<span class="gp">In [119]: </span><span class="nb">print</span><span class="p">(</span><span class="n">f</span><span class="p">(</span><span class="n">a</span><span class="p">))</span>     <span class="c1"># Par contre, la fonction ne renvoie rien (en fait, renvoie None)</span>
<span class="go">None</span>
</pre></div>
</div>
</aside>
</aside>
</section>
</section>


          </article>
        </div>
      </div>
    </main>
  </div>
  <footer class="md-footer">
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
          
            <a href="boucles.html" title="5.3. Boucles"
               class="md-flex md-footer-nav__link md-footer-nav__link--prev"
               rel="prev">
              <div class="md-flex__cell md-flex__cell--shrink">
                <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
              </div>
              <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
                <span class="md-flex__ellipsis">
                  <span
                      class="md-footer-nav__direction"> Previous </span> <span class="section-number">5.3. </span>Boucles </span>
              </div>
            </a>
          
          
            <a href="theorie.html" title="6. Un peu de théorie"
               class="md-flex md-footer-nav__link md-footer-nav__link--next"
               rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title"><span
                class="md-flex__ellipsis"> <span
                class="md-footer-nav__direction"> Next </span> <span class="section-number">6. </span>Un peu de théorie </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink"><i
                class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          
        </a>
        
      </nav>
    </div>
    <div class="md-footer-meta md-typeset">
      <div class="md-footer-meta__inner md-grid">
        <div class="md-footer-copyright">
          <div class="md-footer-copyright__highlight">
              &#169; Copyright 2018, Laurent Garcin.
              
          </div>
            Created using
            <a href="http://www.sphinx-doc.org/">Sphinx</a> 7.0.1.
             and
            <a href="https://github.com/bashtage/sphinx-material/">Material for
              Sphinx</a>
        </div>
      </div>
    </div>
  </footer>
  <script src="_static/javascripts/application.js"></script>
  <script>app.initialize({version: "1.0.4", url: {base: ".."}})</script>
  </body>
</html>